2025-05-21 19:49:13 [INFO] transcriber: Loading Whisper model 'large' on device cuda
2025-05-21 19:52:52 [INFO] transcriber: Loading diarization pipeline 'pyannote/speaker-diarization'
2025-05-21 19:57:30 [ERROR] transcriber: Summarization failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-proj-********************************************************************************************************************************************************X90A. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
Traceback (most recent call last):
  File "C:\Users\nickl\Documents\SubSplit\SubSplit\src\utils\transcribe.py", line 90, in summarize_text
    resp = client.chat.completions.create(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\nickl\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\nickl\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\resources\chat\completions\completions.py", line 925, in create
    return self._post(
           ^^^^^^^^^^^
  File "C:\Users\nickl\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1239, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\nickl\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1034, in request
    raise self._make_status_error_from_response(err.response) from None
openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-proj-********************************************************************************************************************************************************X90A. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-05-21 19:57:30 [INFO] transcriber: Successfully processed temp/48323419-2249-4b84-b4b1-e3a69a240a37_videoplayback (1).mp4 -> temp\2025-05-21\48323419-2249-4b84-b4b1-e3a69a240a37_videoplayback (1).txt
2025-05-21 20:06:42 [INFO] transcriber: Loading Whisper model 'large' on device cuda
2025-05-21 20:09:54 [INFO] transcriber: Loading diarization pipeline 'pyannote/speaker-diarization'
2025-05-21 20:13:47 [ERROR] transcriber: Error processing temp/35244eef-ad40-4e03-b062-e506cf58bfb2_videoplayback (1).mp4 (attempt 1/3): cannot access local variable 'summary' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Users\nickl\Documents\SubSplit\SubSplit\src\utils\transcribe.py", line 120, in process_file
    with open(out_path, 'w', encoding='utf-8') as f:
                                                  ^
UnboundLocalError: cannot access local variable 'summary' where it is not associated with a value
2025-05-21 20:17:09 [INFO] transcriber: Loading Whisper model 'large' on device cuda
2025-05-21 20:20:40 [INFO] transcriber: Loading diarization pipeline 'pyannote/speaker-diarization'
2025-05-21 20:24:38 [INFO] transcriber: Successfully processed temp/64bd66af-183a-46bf-aa5f-dc2db2de6521_videoplayback (1).mp4 -> temp\2025-05-21\64bd66af-183a-46bf-aa5f-dc2db2de6521_videoplayback (1).txt
2025-05-21 20:28:14 [INFO] transcriber: Loading Whisper model 'large' on device cuda
2025-05-21 20:32:12 [INFO] transcriber: Loading diarization pipeline 'pyannote/speaker-diarization'
2025-05-21 20:36:09 [INFO] transcriber: Successfully processed temp/6309b821-d57d-4da5-85f6-f14ec675536c_videoplayback (1).mp4 -> temp\2025-05-21\6309b821-d57d-4da5-85f6-f14ec675536c_videoplayback (1).txt
2025-05-21 20:47:00 [INFO] transcriber: Loading Whisper model 'large' on device cuda
2025-05-21 20:53:45 [INFO] transcriber: Loading diarization pipeline 'pyannote/speaker-diarization'
2025-05-21 20:57:46 [INFO] transcriber: Successfully processed temp/c720debb-8843-4402-b215-2ed2210b0b82_videoplayback (1).mp4 -> temp\2025-05-21\c720debb-8843-4402-b215-2ed2210b0b82_videoplayback (1).txt
2025-05-21 21:05:16 [INFO] transcriber: Loading Whisper model 'large' on device cuda
2025-05-21 21:09:42 [INFO] transcriber: Loading diarization pipeline 'pyannote/speaker-diarization'
2025-05-21 21:13:35 [INFO] transcriber: Successfully processed temp/f43c7242-7a79-4b96-ba10-a0d6bdc3a4f5_videoplayback (1).mp4 -> temp\2025-05-21\f43c7242-7a79-4b96-ba10-a0d6bdc3a4f5_videoplayback (1).txt
2025-05-21 21:20:10 [INFO] transcriber: Loading Whisper model 'large' on device cuda
2025-05-21 22:01:12 [INFO] transcriber: Loading Whisper model 'large' on device cuda
2025-05-21 22:04:43 [INFO] transcriber: Loading Whisper model 'large' on device cuda
